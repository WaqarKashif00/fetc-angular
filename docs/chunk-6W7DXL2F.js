import{a as T,b as g,c as q,d as N,e as A,f as D,g as G,h as I,i as P}from"./chunk-4PGDXCHP.js";import{c as F,e as L}from"./chunk-HBNKWRHV.js";import{a as M}from"./chunk-SL7N67HH.js";import{$a as n,Ca as r,Ma as b,Rb as E,Sa as p,Ua as h,X as u,Xa as a,aa as x,ab as i,bb as v,e as _,fb as y,gb as S,kb as o,mb as C,ob as w}from"./chunk-N3FP7RWP.js";function R(e,m){e&1&&(n(0,"p",10),o(1,"Email is required"),i())}function V(e,m){e&1&&(n(0,"p",10),o(1,"Invalid email format"),i())}function j(e,m){e&1&&(n(0,"p",10),o(1,"Password is required"),i())}function k(e,m){if(e&1&&(n(0,"div",13),o(1),i()),e&2){let d=S();r(),C(" ",d.errorMessage()," ")}}function U(e,m){e&1&&(n(0,"span"),o(1,"Signing in..."),i())}function B(e,m){e&1&&(n(0,"span"),o(1,"Sign In"),i())}var Y=(()=>{class e{constructor(){this.fb=u(I),this.router=u(L),this.route=u(F),this.firebaseService=u(M),this.loading=b(!1),this.errorMessage=b(""),this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]]})}onSubmit(){return _(this,null,function*(){if(this.loginForm.invalid)return;this.loading.set(!0),this.errorMessage.set("");let{email:d,password:l}=this.loginForm.value;try{yield this.firebaseService.login(d,l);let t=this.route.snapshot.queryParams.returnUrl||"/admin";this.router.navigate([t])}catch{this.errorMessage.set("Invalid email or password. Please try again.")}finally{this.loading.set(!1)}})}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275cmp=x({type:e,selectors:[["app-login"]],standalone:!0,features:[w],decls:25,vars:7,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4"],[1,"max-w-md","w-full"],[1,"bg-white","rounded-lg","shadow-lg","p-8","animate-on-scroll"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-midnight-blue","mb-2"],[1,"text-gray-600"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],["for","email",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","email","id","email","formControlName","email","placeholder","admin@fetc.ae",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],[1,"text-red-500","text-sm","mt-1"],["for","password",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],[1,"bg-red-50","border","border-red-200","text-red-700","px-4","py-3","rounded-lg"],["type","submit",1,"w-full","bg-midnight-blue","text-white","py-3","rounded-lg","font-semibold","hover:bg-blue-900","transition-all","duration-300","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"]],template:function(l,t){if(l&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o(5,"Admin Login"),i(),n(6,"p",5),o(7,"Sign in to manage your content"),i()(),n(8,"form",6),y("ngSubmit",function(){return t.onSubmit()}),n(9,"div",7)(10,"div")(11,"label",8),o(12," Email Address "),i(),v(13,"input",9),p(14,R,2,0,"p",10)(15,V,2,0,"p",10),i(),n(16,"div")(17,"label",11),o(18," Password "),i(),v(19,"input",12),p(20,j,2,0,"p",10),i(),p(21,k,2,1,"div",13),n(22,"button",14),p(23,U,2,0,"span")(24,B,2,0),i()()()()()()),l&2){let s,c,f;r(8),h("formGroup",t.loginForm),r(6),a(14,(s=t.loginForm.get("email"))!=null&&s.touched&&((s=t.loginForm.get("email"))!=null&&s.hasError("required"))?14:-1),r(),a(15,(c=t.loginForm.get("email"))!=null&&c.touched&&((c=t.loginForm.get("email"))!=null&&c.hasError("email"))?15:-1),r(5),a(20,(f=t.loginForm.get("password"))!=null&&f.touched&&((f=t.loginForm.get("password"))!=null&&f.hasError("required"))?20:-1),r(),a(21,t.errorMessage()?21:-1),r(),h("disabled",t.loading()||t.loginForm.invalid),r(),a(23,t.loading()?23:24)}},dependencies:[E,P,A,T,q,N,D,G],encapsulation:2})}}return e})();export{Y as LoginComponent};
