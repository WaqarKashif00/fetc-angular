import{a as B,b,c as k,d as D,e as I,f as N,g as U,h as P,i as L}from"./chunk-432VJOTJ.js";import{e as Q}from"./chunk-FNSDCQZS.js";import{a as V}from"./chunk-JR5SRGRA.js";import{$a as v,Aa as l,Ka as f,Pb as M,Qa as c,Sa as y,Ua as S,V as E,Va as d,Xa as F,Ya as w,Za as o,_ as T,_a as n,cb as h,db as g,e as C,eb as m,ga as p,ha as _,ib as a,jb as x,kb as A,mb as q}from"./chunk-E7OJTS3K.js";var $=(i,s)=>s.id;function G(i,s){if(i&1&&(o(0,"div",9),a(1),n()),i&2){let e=m();l(),A(" ",e.successMessage()," ")}}function H(i,s){if(i&1&&(o(0,"div",10),a(1),n()),i&2){let e=m();l(),A(" ",e.errorMessage()," ")}}function j(i,s){i&1&&(o(0,"span"),a(1,"Edit Blog Post"),n())}function R(i,s){i&1&&(o(0,"span"),a(1,"Create New Blog Post"),n())}function z(i,s){i&1&&(o(0,"p",20),a(1,"Title is required"),n())}function J(i,s){i&1&&(o(0,"p",20),a(1,"Content is required"),n())}function K(i,s){i&1&&(o(0,"span"),a(1,"Saving..."),n())}function O(i,s){i&1&&(o(0,"span"),a(1,"Update Blog"),n())}function W(i,s){i&1&&(o(0,"span"),a(1,"Create Blog"),n())}function X(i,s){if(i&1){let e=h();o(0,"button",27),g("click",function(){p(e);let t=m(2);return _(t.cancelEdit())}),a(1," Cancel "),n()}}function Y(i,s){if(i&1){let e=h();o(0,"div",28)(1,"div",29)(2,"h3",30),a(3),n()(),o(4,"p",31),a(5),n(),o(6,"div",3)(7,"span",32),a(8),n(),o(9,"div",33)(10,"button",34),g("click",function(){let t=p(e).$implicit,u=m(3);return _(u.startEditBlog(t))}),a(11," Edit "),n(),o(12,"button",35),g("click",function(){let t=p(e).$implicit,u=m(3);return _(u.deleteBlog(t.id))}),a(13," Delete "),n()()()()}if(i&2){let e=s.$implicit,r=m(3);l(3),x(e.title),l(2),x(e.content),l(3),x(r.formatDate(e.createdAt))}}function Z(i,s){if(i&1&&(o(0,"div",26),F(1,Y,14,3,"div",28,$),n()),i&2){let e=m(2);l(),w(e.blogs())}}function ee(i,s){i&1&&(o(0,"div",36)(1,"p"),a(2,"No blog posts yet. Create your first one!"),n()())}function te(i,s){if(i&1){let e=h();o(0,"div",14)(1,"div",15)(2,"h2",16),c(3,j,2,0,"span")(4,R,2,0),n(),o(5,"form",17),g("ngSubmit",function(){p(e);let t=m();return _(t.submitBlog())}),o(6,"div")(7,"label",18),a(8," Title * "),n(),v(9,"input",19),c(10,z,2,0,"p",20),n(),o(11,"div")(12,"label",18),a(13," Content * "),n(),v(14,"textarea",21),c(15,J,2,0,"p",20),n(),o(16,"div")(17,"label",18),a(18," Image URL (optional) "),n(),v(19,"input",22),n(),o(20,"div",23)(21,"button",24),c(22,K,2,0,"span")(23,O,2,0)(24,W,2,0),n(),c(25,X,2,0,"button",25),n()()(),o(26,"div",15)(27,"h2",16),a(28),n(),c(29,Z,3,0,"div",26)(30,ee,3,0),n()()}if(i&2){let e,r,t=m();l(3),d(3,t.editingBlog()?3:4),l(2),y("formGroup",t.blogForm),l(5),d(10,(e=t.blogForm.get("title"))!=null&&e.touched&&((e=t.blogForm.get("title"))!=null&&e.hasError("required"))?10:-1),l(5),d(15,(r=t.blogForm.get("content"))!=null&&r.touched&&((r=t.blogForm.get("content"))!=null&&r.hasError("required"))?15:-1),l(6),y("disabled",t.loading()||t.blogForm.invalid),l(),d(22,t.loading()?22:t.editingBlog()?23:24),l(3),d(25,t.editingBlog()?25:-1),l(3),A(" Published Blogs (",t.blogs().length,") "),l(),d(29,t.blogs().length>0?29:30)}}function ie(i,s){i&1&&(o(0,"span"),a(1,"Edit FAQ"),n())}function ne(i,s){i&1&&(o(0,"span"),a(1,"Create New FAQ"),n())}function oe(i,s){i&1&&(o(0,"p",20),a(1,"Question is required"),n())}function ae(i,s){i&1&&(o(0,"p",20),a(1,"Answer is required"),n())}function le(i,s){i&1&&(o(0,"span"),a(1,"Saving..."),n())}function re(i,s){i&1&&(o(0,"span"),a(1,"Update FAQ"),n())}function se(i,s){i&1&&(o(0,"span"),a(1,"Create FAQ"),n())}function de(i,s){if(i&1){let e=h();o(0,"button",27),g("click",function(){p(e);let t=m(2);return _(t.cancelEdit())}),a(1," Cancel "),n()}}function me(i,s){if(i&1){let e=h();o(0,"div",28)(1,"h3",39),a(2),n(),o(3,"p",40),a(4),n(),o(5,"div",3)(6,"span",32),a(7),n(),o(8,"div",33)(9,"button",34),g("click",function(){let t=p(e).$implicit,u=m(3);return _(u.startEditFAQ(t))}),a(10," Edit "),n(),o(11,"button",35),g("click",function(){let t=p(e).$implicit,u=m(3);return _(u.deleteFAQ(t.id))}),a(12," Delete "),n()()()()}if(i&2){let e=s.$implicit,r=m(3);l(2),x(e.question),l(2),x(e.answer),l(3),x(r.formatDate(e.createdAt))}}function ce(i,s){if(i&1&&(o(0,"div",26),F(1,me,13,3,"div",28,$),n()),i&2){let e=m(2);l(),w(e.faqs())}}function ue(i,s){i&1&&(o(0,"div",36)(1,"p"),a(2,"No FAQs yet. Create your first one!"),n()())}function ge(i,s){if(i&1){let e=h();o(0,"div",14)(1,"div",15)(2,"h2",16),c(3,ie,2,0,"span")(4,ne,2,0),n(),o(5,"form",17),g("ngSubmit",function(){p(e);let t=m();return _(t.submitFAQ())}),o(6,"div")(7,"label",18),a(8," Question * "),n(),v(9,"input",37),c(10,oe,2,0,"p",20),n(),o(11,"div")(12,"label",18),a(13," Answer * "),n(),v(14,"textarea",38),c(15,ae,2,0,"p",20),n(),o(16,"div",23)(17,"button",24),c(18,le,2,0,"span")(19,re,2,0)(20,se,2,0),n(),c(21,de,2,0,"button",25),n()()(),o(22,"div",15)(23,"h2",16),a(24),n(),c(25,ce,3,0,"div",26)(26,ue,3,0),n()()}if(i&2){let e,r,t=m();l(3),d(3,t.editingFAQ()?3:4),l(2),y("formGroup",t.faqForm),l(5),d(10,(e=t.faqForm.get("question"))!=null&&e.touched&&((e=t.faqForm.get("question"))!=null&&e.hasError("required"))?10:-1),l(5),d(15,(r=t.faqForm.get("answer"))!=null&&r.touched&&((r=t.faqForm.get("answer"))!=null&&r.hasError("required"))?15:-1),l(2),y("disabled",t.loading()||t.faqForm.invalid),l(),d(18,t.loading()?18:t.editingFAQ()?19:20),l(3),d(21,t.editingFAQ()?21:-1),l(3),A(" Published FAQs (",t.faqs().length,") "),l(),d(25,t.faqs().length>0?25:26)}}var ye=(()=>{class i{constructor(){this.fb=E(P),this.router=E(Q),this.firebaseService=E(V),this.activeTab=f("blogs"),this.editingBlog=f(null),this.editingFAQ=f(null),this.loading=f(!1),this.successMessage=f(""),this.errorMessage=f(""),this.blogs=this.firebaseService.blogs,this.faqs=this.firebaseService.faqs,this.currentUser=this.firebaseService.currentUser,this.blogForm=this.fb.group({title:["",[b.required,b.minLength(5)]],content:["",[b.required,b.minLength(20)]],imageUrl:[""]}),this.blogImage=f(null),this.blogImagePreview=f(""),this.faqForm=this.fb.group({question:["",[b.required,b.minLength(5)]],answer:["",[b.required,b.minLength(10)]]})}setActiveTab(e){this.activeTab.set(e),this.cancelEdit()}startEditBlog(e){this.editingBlog.set(e),this.blogForm.patchValue({title:e.title,content:e.content,imageUrl:e.imageUrl||""})}submitBlog(){return C(this,null,function*(){if(!this.blogForm.invalid){this.loading.set(!0),this.clearMessages();try{let e=this.blogForm.value,r={title:e.title,content:e.content,imageUrl:e.imageUrl||void 0,createdAt:new Date},t=this.editingBlog();t&&t.id?(yield this.firebaseService.updateBlog(t.id,r),this.successMessage.set("Blog post updated successfully!")):(yield this.firebaseService.addBlog(r),this.successMessage.set("Blog post created successfully!")),this.blogForm.reset(),this.editingBlog.set(null)}catch{this.errorMessage.set("Failed to save blog post. Please try again.")}finally{this.loading.set(!1),this.autoHideMessages()}}})}deleteBlog(e){return C(this,null,function*(){if(confirm("Are you sure you want to delete this blog post?")){this.loading.set(!0),this.clearMessages();try{yield this.firebaseService.deleteBlog(e),this.successMessage.set("Blog post deleted successfully!")}catch{this.errorMessage.set("Failed to delete blog post. Please try again.")}finally{this.loading.set(!1),this.autoHideMessages()}}})}startEditFAQ(e){this.editingFAQ.set(e),this.faqForm.patchValue({question:e.question,answer:e.answer})}submitFAQ(){return C(this,null,function*(){if(!this.faqForm.invalid){this.loading.set(!0),this.clearMessages();try{let e=this.faqForm.value,r={question:e.question,answer:e.answer,createdAt:new Date},t=this.editingFAQ();t&&t.id?(yield this.firebaseService.updateFAQ(t.id,r),this.successMessage.set("FAQ updated successfully!")):(yield this.firebaseService.addFAQ(r),this.successMessage.set("FAQ created successfully!")),this.faqForm.reset(),this.editingFAQ.set(null)}catch{this.errorMessage.set("Failed to save FAQ. Please try again.")}finally{this.loading.set(!1),this.autoHideMessages()}}})}deleteFAQ(e){return C(this,null,function*(){if(confirm("Are you sure you want to delete this FAQ?")){this.loading.set(!0),this.clearMessages();try{yield this.firebaseService.deleteFAQ(e),this.successMessage.set("FAQ deleted successfully!")}catch{this.errorMessage.set("Failed to delete FAQ. Please try again.")}finally{this.loading.set(!1),this.autoHideMessages()}}})}cancelEdit(){this.editingBlog.set(null),this.editingFAQ.set(null),this.blogForm.reset(),this.faqForm.reset(),this.clearMessages()}logout(){return C(this,null,function*(){try{yield this.firebaseService.logout(),this.router.navigate(["/login"])}catch(e){console.error("Logout error:",e)}})}clearMessages(){this.successMessage.set(""),this.errorMessage.set("")}autoHideMessages(){setTimeout(()=>{this.clearMessages()},5e3)}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=T({type:i,selectors:[["app-admin"]],standalone:!0,features:[q],decls:22,vars:17,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-midnight-blue","text-white","py-4","shadow-lg"],[1,"container","mx-auto","px-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold"],[1,"flex","items-center","space-x-4"],[1,"text-gray-300"],[1,"bg-red-600","hover:bg-red-700","px-4","py-2","rounded-lg","transition-colors","duration-300","font-semibold",3,"click"],[1,"container","mx-auto","px-4","py-8"],[1,"mb-6","bg-green-50","border","border-green-200","text-green-700","px-6","py-4","rounded-lg","animate-on-scroll"],[1,"mb-6","bg-red-50","border","border-red-200","text-red-700","px-6","py-4","rounded-lg","animate-on-scroll"],[1,"mb-8","border-b","border-gray-300"],[1,"flex","space-x-4"],[1,"px-6","py-3","font-semibold","text-gray-600","hover:text-midnight-blue","transition-colors","duration-300",3,"click"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","rounded-lg","shadow-lg","p-6","animate-on-scroll"],[1,"text-2xl","font-bold","text-midnight-blue","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","text","formControlName","title","placeholder","Enter blog title",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],[1,"text-red-500","text-sm","mt-1"],["formControlName","content","rows","8","placeholder","Enter blog content",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],["type","url","formControlName","imageUrl","placeholder","https://example.com/image.jpg",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],[1,"flex","space-x-3"],["type","submit",1,"flex-1","bg-midnight-blue","text-white","py-3","rounded-lg","font-semibold","hover:bg-blue-900","transition-all","duration-300","disabled:bg-gray-400",3,"disabled"],["type","button",1,"px-6","bg-gray-300","text-gray-700","py-3","rounded-lg","font-semibold","hover:bg-gray-400","transition-all","duration-300"],[1,"space-y-4","max-h-[600px]","overflow-y-auto"],["type","button",1,"px-6","bg-gray-300","text-gray-700","py-3","rounded-lg","font-semibold","hover:bg-gray-400","transition-all","duration-300",3,"click"],[1,"border","border-gray-200","rounded-lg","p-4","hover:shadow-md","transition-shadow","duration-300"],[1,"flex","items-start","justify-between","mb-2"],[1,"font-bold","text-lg","text-midnight-blue","flex-1"],[1,"text-gray-600","text-sm","mb-3","line-clamp-2"],[1,"text-xs","text-gray-500"],[1,"flex","space-x-2"],[1,"px-3","py-1","bg-blue-500","text-white","rounded","hover:bg-blue-600","transition-colors","duration-300","text-sm",3,"click"],[1,"px-3","py-1","bg-red-500","text-white","rounded","hover:bg-red-600","transition-colors","duration-300","text-sm",3,"click"],[1,"text-center","py-10","text-gray-500"],["type","text","formControlName","question","placeholder","Enter the question",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],["formControlName","answer","rows","6","placeholder","Enter the answer",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-midnight-blue","focus:border-transparent"],[1,"font-bold","text-lg","text-midnight-blue","mb-2"],[1,"text-gray-600","text-sm","mb-3"]],template:function(r,t){if(r&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Admin Dashboard"),n(),o(6,"div",5)(7,"span",6),a(8),n(),o(9,"button",7),g("click",function(){return t.logout()}),a(10," Logout "),n()()()()(),o(11,"div",8),c(12,G,2,1,"div",9)(13,H,2,1,"div",10),o(14,"div",11)(15,"div",12)(16,"button",13),g("click",function(){return t.setActiveTab("blogs")}),a(17," Manage Blogs "),n(),o(18,"button",13),g("click",function(){return t.setActiveTab("faqs")}),a(19," Manage FAQs "),n()()(),c(20,te,31,9,"div",14)(21,ge,27,9,"div",14),n()()),r&2){let u;l(8),x((u=t.currentUser())==null?null:u.email),l(4),d(12,t.successMessage()?12:-1),l(),d(13,t.errorMessage()?13:-1),l(3),S("border-b-2",t.activeTab()==="blogs")("border-muted-gold",t.activeTab()==="blogs")("text-muted-gold",t.activeTab()==="blogs"),l(2),S("border-b-2",t.activeTab()==="faqs")("border-muted-gold",t.activeTab()==="faqs")("text-muted-gold",t.activeTab()==="faqs"),l(2),d(20,t.activeTab()==="blogs"?20:-1),l(),d(21,t.activeTab()==="faqs"?21:-1)}},dependencies:[M,L,I,B,k,D,N,U],encapsulation:2})}}return i})();export{ye as AdminComponent};
